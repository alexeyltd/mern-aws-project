{"ast":null,"code":"var _jsxFileName = \"/Users/a.pavlenko/Documents/work-projects/react-aws-project/client/pages/user/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../../components/layout.component\";\nimport axios from \"axios\";\nimport { API } from \"../../config\";\nimport { getCookie } from \"../../utils/auth\";\n\nconst User = ({\n  user\n}) => {\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 10\n    }\n  }, JSON.stringify(user));\n};\n\nUser.getInitialProps = async context => {\n  const token = getCookie(\"token\", context.req);\n\n  try {\n    console.log('TOKEN: ', token);\n    const response = await axios.get(`${API}/user`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n        contentType: \"application/json\"\n      }\n    });\n    return {\n      user: response.data\n    };\n  } catch (error) {\n    if (error.response.status === 401) {\n      return {\n        user: `no user`\n      };\n    }\n  }\n};\n\nexport default User;","map":{"version":3,"sources":["/Users/a.pavlenko/Documents/work-projects/react-aws-project/client/pages/user/index.js"],"names":["Layout","axios","API","getCookie","User","user","JSON","stringify","getInitialProps","context","token","req","console","log","response","get","headers","authorization","contentType","data","error","status"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,mCAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,cAApB;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAc;AACzB,SAAO,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASC,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAT,CAAP;AACD,CAFD;;AAIAD,IAAI,CAACI,eAAL,GAAuB,MAAOC,OAAP,IAAmB;AACxC,QAAMC,KAAK,GAAGP,SAAS,CAAC,OAAD,EAAUM,OAAO,CAACE,GAAlB,CAAvB;;AACA,MAAI;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBH,KAAvB;AACF,UAAMI,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAW,GAAEb,GAAI,OAAjB,EAAyB;AAC9Cc,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASP,KAAM,EADxB;AAEPQ,QAAAA,WAAW,EAAE;AAFN;AADqC,KAAzB,CAAvB;AAMA,WAAO;AAAEb,MAAAA,IAAI,EAAES,QAAQ,CAACK;AAAjB,KAAP;AACD,GATD,CASE,OAAOC,KAAP,EAAc;AACd,QAAIA,KAAK,CAACN,QAAN,CAAeO,MAAf,KAA0B,GAA9B,EAAmC;AACjC,aAAO;AAAEhB,QAAAA,IAAI,EAAG;AAAT,OAAP;AACD;AACF;AACF,CAhBD;;AAkBA,eAAeD,IAAf","sourcesContent":["import Layout from \"../../components/layout.component\";\nimport axios from \"axios\";\nimport { API } from \"../../config\";\nimport { getCookie } from \"../../utils/auth\";\n\nconst User = ({ user }) => {\n  return <Layout>{JSON.stringify(user)}</Layout>;\n};\n\nUser.getInitialProps = async (context) => {\n  const token = getCookie(\"token\", context.req);\n  try {\n      console.log('TOKEN: ', token)\n    const response = await axios.get(`${API}/user`, {\n      headers: {\n        authorization: `Bearer ${token}`,\n        contentType: \"application/json\",\n      },\n    });\n    return { user: response.data };\n  } catch (error) {\n    if (error.response.status === 401) {\n      return { user: `no user` };\n    }\n  }\n};\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}